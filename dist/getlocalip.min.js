/*
* getLocalIP 1.0.0 - Get IP in network
* https://github.com/cornips/getLocalIP
* Copyright (c) 2017 Martijn Cornips <martijn@droneland.nl>
* Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.

* Based on Daniel Roesler's WebRTC-IPs
* https://github.com/diafygi/webrtc-ips
* Copyright (c) 2015 Daniel Roesler
* Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
*
* THIS SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
* SOFTWARE.
*/
function getLocalIP(f){var d={},b=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;b||(b=iframe.contentWindow,b=b.RTCPeerConnection||b.mozRTCPeerConnection||b.webkitRTCPeerConnection);var c=new b({iceServers:[{urls:"stun:stun.services.mozilla.com"}]},{}),e=0;c.onicecandidate=function(a){if(e)return!1;a.candidate&&(e++,a=/([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.exec(a.candidate.candidate))&&(a=a[0],void 0===d[a]&&f(a),d[a]=!0)};c.createDataChannel("");
c.createOffer(function(a){c.setLocalDescription(a,function(){},function(){})},function(){})};
